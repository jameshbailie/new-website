---
layout: default
---

{% include base_path %}

{% if page.header.overlay_color or page.header.overlay_image or page.header.image %}
  {% include page__hero.html %}
{% endif %}

{% if page.url != "/" and site.breadcrumbs %}
  {% unless paginator %}
    {% include breadcrumbs.html %}
  {% endunless %}
{% endif %}

<div id="main" role="main">
  <div class="custom-hero-banner"></div>
  
  {% include sidebar.html %}

  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    {% if page.title %}<meta itemprop="headline" content="{{ page.title | markdownify | strip_html | strip_newlines | escape_once }}">{% endif %}
    {% if page.excerpt %}<meta itemprop="description" content="{{ page.excerpt | markdownify | strip_html | strip_newlines | escape_once }}">{% endif %}
    {% if page.date %}<meta itemprop="datePublished" content="{{ page.date | date: "%B %d, %Y" }}">{% endif %}
    {% if page.modified %}<meta itemprop="dateModified" content="{{ page.modified | date: "%B %d, %Y" }}">{% endif %}

    <div class="page__inner-wrap">
      {% unless page.header.overlay_color or page.header.overlay_image %}
        <header>
          {% if page.title %}<h1 class="page__title" itemprop="headline">{{ page.title | markdownify | remove: "<p>" | remove: "</p>" }}</h1>{% endif %}
					
					{% if page.collection == 'papers' %}
						{% include buttons-for-detail.html %}
						<script>
							document.querySelector('.page__title').classList.add('header-with-buttons');
							document.querySelector('.button-expand-container').classList.add('button-expand-container-aligned');
						</script>
						<br>
					{% endif %}
					
          {% if page.read_time %}
            <p class="page__meta"><i class="fa fa-clock" aria-hidden="true"></i> {% include read-time.html %}</p>
          {% endif %}
        {% if page.modified %}
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> {{ site.data.ui-text[site.locale].date_label | default: "Published:" }}</strong> <time datetime="{{ page.modified | date: "%Y-%m-%d" }}">{{ page.modified | date: "%B %d, %Y" }}</time></p>
        {% endif %}
        
        {% if page.collection == 'teaching' %}
          <p> {{ page.type }}, <i>{{ page.venue }}</i>, {{ page.date | default: "1900-01-01" | date: "%Y" }} </p>
				{% elsif page.collection == 'papers' %}
				
					{% assign authors_long_formatted = page.authors_long | replace: "!!me!!", "James Bailie" %}
					
					{% if page.venue %}
						{% assign byline = authors_long_formatted | append: ".<br>" %}
						{% if page.to_appear %}
							{% assign byline = byline | append: "To appear in " %}
						{% endif %}
						{% assign byline = byline | append: "<i>" | append: page.venue | append: "</i>, " %}
						{% else %}
						{% assign byline = authors_long_formatted | append: ", " %}
					{% endif %}
				
					{% assign year = page.date | date: "%Y" %}
					{% assign byline = byline | append: year | append: "." %}
					{{ byline }}
        {% endif %}    
        </header>
      {% endunless %}

		<section class="page__content" itemprop="text">
        
		{% if page.collection == 'papers' %}
			{% if page.abstract %}
				<details class="details-abstract-pub">
					<summary><b>Abstract</b></summary>
					<p>{{page.abstract}}</p>
				</details>
				
				{% if content != "" %}
					<div class="page-content">{{ content }}</div>
				{% endif %}
			{% else %}
				{% if content != "" %}
					<div class="page-content content-without-abstract">{{ content }}</div>
				{% endif %}
			{% endif %}
		{% else %}
			{% if content != "" %}
				<div class="page-content">{{ content }}</div>
			{% endif %}
		{% endif %}
		

		{% if page.collection == 'papers' %}
			{% if page.citation %}
			  <details>
				<summary class="details-summary-pub">Suggested Citation</summary>
				<p class="details-p-pub"> {{ page.citation }} </p>
			  </details>
			{% endif %}
			
			{% if page.bibtex_url %}
				{% if page.bibtex_url == 'true' %}
					{% assign page.bibtex_url = '/files/' | append: page.file_name | append: '.bib' %}
				{% endif %}
				
				<details>
					<summary style="font-size: smaller">BibLaTeX</summary>
					<div class="bibtex-block">
					  <button class="bibtex-copy-btn" aria-label="Copy BibTeX">
						<svg width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M17.5 14H19C20.1046 14 21 13.1046 21 12V5C21 3.89543 20.1046 3 19 3H12C10.8954 3 10 3.89543 10 5V6.5M5 10H12C13.1046 10 14 10.8954 14 12V19C14 20.1046 13.1046 21 12 21H5C3.89543 21 3 20.1046 3 19V12C3 10.8954 3.89543 10 5 10Z" stroke="var(--bibtex-block-button-color)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
						Copy BibLaTeX
					  </button>
					  <pre id="bib-content">Loading...</pre>
					</div>
				</details>
						  
				<script>
				fetch("{{ page.bibtex_url }}")
				  .then(response => {
					if (!response.ok) {
					  if (response.status === 404) {
						document.getElementById("bib-content").innerHTML =
						  "<br>Error: .bib file not found (404).<br><br>";
					  } else {
						document.getElementById("bib-content").innerHTML =
						  "<br>Error loading .bib file (HTTP " + response.status + ").<br><br>";
					  }
					  throw new Error("HTTP error " + response.status);
					}
					return response.text();
				  })
				  .then(text => {
					document.getElementById("bib-content").textContent = text;
				  })
				  .catch(err => {
					console.error("Fetch error:", err);
				  });
				</script>
				
				<script>
					document.addEventListener("click", async (e) => {
					  const btn = e.target.closest(".bibtex-copy-btn");
					  if (!btn) return;

					  const block = btn.closest(".bibtex-block");
					  const pre = block.querySelector("pre");
					  const text = pre ? pre.innerText : "";

					  try {
							await navigator.clipboard.writeText(text);

							btn.classList.add("copied");
							const original = btn.innerHTML;
							btn.innerHTML = "âœ“ Copied";
							setTimeout(() => {
								btn.classList.remove("copied");
								btn.innerHTML = original;
							}, 1400);
					  } catch (err) {
							console.error("Copy failed:", err);
					  } finally {
							btn.blur();
					  }
					});
				</script>
			{% endif %}
			
			{% if page.version_history %}
				<details>
					<summary class="details-summary-pub">Version history</summary>
					<p class="details-p-pub">Here is the version history.</p>
				</details>
			{% endif %}
			
			{% assign links = '<div class="div-links">' %}
			{% assign links_separator = '<span class="links-sep"></span>' %}
			{% assign icon_color = "var(--global-link-color)" %}
			
			{% if page.paper_url %}
				{% if page.paper_url == 'true' %}
					{% assign page.paper_url = '/files/' | append: page.file_name | append: '.pdf' %}
				{% endif %}
			
				{% assign links = links | append: '<a href="' | append: page.paper_url | append: '" class="link-with-icon" target="_blank">
				<span class="icon">
				<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="2 2 28 28">
				  <defs>
					<style>
					  .cls-1 {
						fill: none;
					  }
					</style>
				  </defs>
				  <polygon points="4 20 4 22 8.586 22 2 28.586 3.414 30 10 23.414 10 28 12 28 12 20 4 20"/>
				  <polygon points="22 16 24 16 24 10 29 10 29 8 24 8 24 4 30 4 30 2 22 2 22 16"/>
				  <path d="M16,2H12V16h4a4,4,0,0,0,4-4V6A4,4,0,0,0,16,2Zm2,10a2,2,0,0,1-2,2H14V4h2a2,2,0,0,1,2,2Z"/>
				  <path d="M8,2H2V16H4V11H8a2,2,0,0,0,2-2V4A2,2,0,0,0,8,2ZM8,9H4V4H8Z"/>
				  <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="26" height="26"/>
				</svg></span>
				<span class="label">Paper</span>
				</a>' %}
			{% endif %}
			
			{% if page.preprint_url %}
				{% if page.preprint_url == 'true' %}
					{% assign page.preprint_url = '/files/' | append: page.file_name | append: '.pdf' %}
				{% endif %}
				
				{% if page.paper_url %}
					{% assign links = links | append: links_separator %}
				{% endif %}
			
				{% assign links = links | append: '<a href="' | append: page.preprint_url | append: '" class="link-with-icon" target="_blank">
				<span class="icon">
				<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="2 2 28 28">
				  <defs>
					<style>
					  .cls-1 {
						fill: none;
					  }
					</style>
				  </defs>
				  <polygon points="4 20 4 22 8.586 22 2 28.586 3.414 30 10 23.414 10 28 12 28 12 20 4 20"/>
				  <polygon points="22 16 24 16 24 10 29 10 29 8 24 8 24 4 30 4 30 2 22 2 22 16"/>
				  <path d="M16,2H12V16h4a4,4,0,0,0,4-4V6A4,4,0,0,0,16,2Zm2,10a2,2,0,0,1-2,2H14V4h2a2,2,0,0,1,2,2Z"/>
				  <path d="M8,2H2V16H4V11H8a2,2,0,0,0,2-2V4A2,2,0,0,0,8,2ZM8,9H4V4H8Z"/>
				  <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="26" height="26"/>
				</svg></span>
				<span class="label">Preprint</span>
				</a>' %}
			{% endif %}
			
			{% if page.publisher_url %}
				{% if page.paper_url or page.preprint_url %}
					{% assign links = links | append: links_separator %}
				{% endif %}
				
				{% assign links = links | append: '<a href="' | append: page.publisher_url | append: '" class="link-with-icon" target="_blank">
				<span class="icon">
				<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="none" viewBox="4 3 17 17">
					<path id="Vector" d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke="' | append: icon_color | append: '" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
				</svg></span>
				<span class="label">Publication</span>
				</a>' %}
			{% endif %}
			
			{% if page.arxiv_url %}
				{% if page.paper_url or page.preprint_url or page.publisher_url %}
					{% assign links = links | append: links_separator %}
				{% endif %}
				
				{% assign links = links | append: '<a href="' | append: page.arxiv_url | append: '" class="link-with-icon" target="_blank">
				<span class="icon">
				<svg xmlns="http://www.w3.org/2000/svg" width="14.4px" height="20px" class="arvix-logo" viewBox="0 0 17.96 24.52" fill="none">
					<g id="tiny">
						<path d="M573.549,280.916l2.266,2.738,6.674-7.84c.353-.47.52-.717.353-1.117a1.218,1.218,0,0,0-1.061-.748h0a.953.953,0,0,0-.712.262Z" transform="translate(-566.984 -271.548)" stroke="' | append: icon_color | append: '" stroke-width="0.5"/>
						<path d="M579.525,282.225l-10.606-10.174a1.413,1.413,0,0,0-.834-.5,1.09,1.09,0,0,0-1.027.66c-.167.4-.047.681.319,1.206l8.44,10.242h0l-6.282,7.716a1.336,1.336,0,0,0-.323,1.3,1.114,1.114,0,0,0,1.04.69A.992.992,0,0,0,571,293l8.519-7.92A1.924,1.924,0,0,0,579.525,282.225Z" transform="translate(-566.984 -271.548)" fill="' | append: icon_color | append: '"/>
						<path d="M584.32,293.912l-8.525-10.275,0,0L573.53,280.9l-1.389,1.254a2.063,2.063,0,0,0,0,2.965l10.812,10.419a.925.925,0,0,0,.742.282,1.039,1.039,0,0,0,.953-.667A1.261,1.261,0,0,0,584.32,293.912Z" transform="translate(-566.984 -271.548)" stroke="' | append: icon_color | append: '" stroke-width="0.5"/></g>
				</svg></span>
				<span class="label">arXiv</span>
				</a>' %}
			{% endif %}
			
			{% if page.poster_url %}
				{% if page.paper_url or page.preprint_url or page.publisher_url or page.arxiv_url %}
					{% assign links = links | append: links_separator %}
				{% endif %}
				
				{% assign links = links | append: '<a href="' | append: page.poster_url | append: '" class="link-with-icon" target="_blank">
				<span class="icon">
				<svg height="20px" width="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508 508">
					<g>
						<g>
							<path d="M404.2,355.6V28.2c7.7-0.1,13.9-6.4,13.9-14.1C418.1,6.3,411.8,0,404,0H104c-7.8,0-14.1,6.3-14.1,14.1
								c0,7.7,6.2,14,13.9,14.1v327.4c-7.7,0.1-13.9,6.4-13.9,14.1c0,7.8,6.3,14.1,14.1,14.1h71.8l23.6,78.1
								c-16.4,4.6-32.3,11.2-47.2,19.7c-6.8,3.9-9.1,12.5-5.2,19.3c2.6,4.5,7.4,7.1,12.3,7.1c2.4,0,39.9-25.4,94.8-25.4
								c30.6,0,61,8.1,87.8,23.5c6.8,3.9,15.4,1.5,19.3-5.2c3.9-6.8,1.5-15.4-5.2-19.3c-14.9-8.6-30.9-15-47.3-19.6l23.6-78.2H404
								c7.8,0,14.1-6.3,14.1-14.1C418.1,362,411.9,355.7,404.2,355.6z M280.9,456.2c-17.9-2.4-35.9-2.4-53.7,0l-21.8-72.3h97.4
								L280.9,456.2z M376,355.6H132V28.2h244V355.6z" 
								stroke-width="10" stroke="currentColor"/>
						</g>
					</g>
				</svg></span>
				<span class="label">Poster</span>
				</a>' %}
			{% endif %}	
			
			{% if page.talk_url %}
				{% if page.paper_url or page.preprint_url or page.publisher_url or page.arxiv_url or page.poster_url %}
					{% assign links = links | append: links_separator %}
				{% endif %}
				
				{% assign links = links | append: '<a href="' | append: page.talk_url | append: '" class="link-with-icon" target="_blank">
				<span class="icon">
				<svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M3 3H21M12 18L7 21M12 18L17 21M12 18V21M12 18V15M12 15H15.8C16.9201 15 17.4802 15 17.908 14.782C18.2843 14.5903 18.5903 14.2843 18.782 13.908C19 13.4802 19 12.9201 19 11.8V7M12 15H8.2C7.0799 15 6.51984 15 6.09202 14.782C5.71569 14.5903 5.40973 14.2843 5.21799 13.908C5 13.4802 5 12.9201 5 11.8V7" stroke="' | append: icon_color | append: '" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				</svg></span>
				<span class="label">Talk</span>
				</a>' %}
			{% endif %}
			
			{% assign links = links | append: '</div>' %}
			{{ links }}
		{% endif %}

		{% if page.link %}<div><a href="{{ page.link }}" class="btn">{{ site.data.ui-text[site.locale].ext_link_label | default: "Direct Link" }}</a></div>{% endif %}
		</section>

		<footer class="page__meta">
        {% if site.data.ui-text[site.locale].meta_label %}
          <h4 class="page__meta-title">{{ site.data.ui-text[site.locale].meta_label }}</h4>
        {% endif %}
        <!-- {% include page__taxonomy.html %} -->
      </footer>

		{% if page.share %}{% include social-share.html %}{% endif %}

		<!-- {% include post_pagination.html %} -->
	</div>

    {% if site.comments.provider and page.comments %}
      {% include comments.html %}
    {% endif %}
  </article>

  {% comment %}<!-- only show related on a post page when not disabled -->{% endcomment %}
  {% if page.id and page.related and site.related_posts.size > 0 %}
    <div class="page__related">
      {% if site.data.ui-text[site.locale].related_label %}
        <h4 class="page__related-title">{{ site.data.ui-text[site.locale].related_label | default: "You May Also Enjoy" }}</h4>
      {% endif %}
      <div class="grid__wrapper">
        {% for post in site.related_posts limit:4 %}
          {% include archive-single.html type="grid" %}
        {% endfor %}
      </div>
    </div>
  {% endif %}
</div>
